# Core-javascript

## 클래스

- 클래스는 객체를 위한 핵심 구상도(청사진)과 같다.
- 클래스는 `class` 키워드로 정의되고, 프로퍼티와 메소드를 가질 수 있다.
- 메소드는 클래스에 정의된 함수이고 프로퍼티는 클래스에 정의한 변수이다.
- 클래스는 상속을 할 수 있다.

## 스코프와 클로저

### 스코프란?

변수명, 함수명, 클래스 명과 같은 식별자가
본인이 선언된 위치에 따라 다른 코드에서 자신이 참조될 수 있을지, 없을지를 결정한다.
그리고 스코프는 함수의 중첩적인 구조에 영향을 받는다.

#### 함수의 중첩

함수는 전역에서 정의 될 수도있지만, 어떠한 함수 내부 몸체에서 정의 될 수 있다.
이때 내부에서 정의된 함수를 `중첩 함수` 라고 하고
이를 감싸고 있는것을 `외부 함수` 라고 한다.
이때 지역 스코프도 중첩될 수 있는데 즉, 스코프도 계층적인 구조를 가질 수 있다.

### 스코프 체인

inner 함수의 상위 스코프는 outer 함수의 스코프이다.
outer 함수의 상위 스코프는 전역 스코프이다.
이처럼 스코프가 계층적으로 연결이 되어 있는 것을 스코프 체인이라고 한다.
변수를 참조할때 JS는 스코프 체인을 통해 참조한다.
만약 현재 함수가 어떤 변수를 참조하려고 하는데 자신의 스코프 안에 변수가 없으면 상위스코프로 간다.

### 스코프 레벨

- 블록 레벨 스코프 : if문, for문, 함수 등 모든 코드블록이 지역스코프를만든다.
- 함수 레벨 스코프 : 함수코드 블록만을 지역 스코프로 인정한다.
  - JS가 함수 레벨 스코프이고, let const 를 이용해서 블록 레벨 스코프를 가져올 수 있다.

### 상위 스코프

- 동적 스코프 : 함수가 호출되는 시점에 결정
- 정적 스코프 : 함수가 정의되는 시점에 결정(렉시컬 스코프라고도 한다.)
  **JS에서는 함수가 태어나면 본인의 내부슬롯에 상위스코프에 대한 참조를 저장한다.**

#### 플로우(어떻게 진행되는가?)

1. 함수호출
2. 실행 컨텍스트 생성(그 후 실행 컨텍스트 스택에 들어간다.)
3. 렉시컬 환경 생성(포함하는 식별자, 식별자에 바인딩 된 값, 상위 렉시컬 환경에 대한 참조)
4. 이후에 코드가 종료되면 스택에 있던것을 pop해서 제거한다.

## 클로저

- 상위 스코프의 식별자를 참조한다(이때 클로저에 의해 참조된 변수를 자유변수 라고 한다. )
- 본인의 외부 함수보다 더 오래 살아 있다.
- state가 의도치 않게 변경되지 않도록 state를 안전하게 은닉하고 특정함수에게만 state변경을 허용하기 위해 사용한다.
